<div class="well">
	<h3>{{editor.isNew ? 'Add Participant' : 'Edit Participant'}}</h3>
	<form name="participantForm" class="form form-participant" novalidate>
		<div class="form-group">
			<label for="name">Name</label>
			<div class="input-group">
				<input htm-focus-on="true" ng-model="editor.participant.name" type="text" class="form-control" name="name" required="true"/>
			</div>
		</div>

		<div class="form-group">
			<label for="club">Club</label>
			<div class="input-group" ng-hide="editor.addNewClubVisible">
				<span class="input-group-btn">
					<button ng-click="editor.showAddNewClub()" class="btn btn-default" type="button" title="Add new club">
						<span class="glyphicon glyphicon-plus"></span>
					</button>
				</span>
				<ui-select ng-model="editor.participant._clubId">
					<ui-select-match placeholder="Select or search a club in the list...">{{$select.selected.name}}</ui-select-match>
					<ui-select-choices repeat="club._id as club in editor.clubs | filter: $select.search">
						<span ng-bind-html="club.code | highlight: $select.search"></span> - <span ng-bind-html="club.name | highlight: $select.search"></span>
					</ui-select-choices>
				</ui-select>
			</div>
			<div class="input-group" ng-show="editor.addNewClubVisible">
				<span class="input-group-btn">
						<button ng-click="editor.hideAddNewClub()" class="btn btn-success" type="button" title="Cancel add new club">	<span class="glyphicon glyphicon-plus"></span>
						</button>
				</span>
				<input ng-model="editor.club(editor.participant).name" htm-focus-on="editor.addNewClubVisible" type="text" class="form-control" required="true"/>
			</div>
		</div>
		<div class="form-group" ng-show="editor.addNewClubVisible">
			<label>Club Code</label>
			<div class="input-group">
				<input ng-model="editor.club(editor.participant).code" type="text" class="form-control" required="true"/>
			</div>
		</div>
		<div class="form-group">
			<label for="country">Country</label>
			<div class="input-group">
				<span class="input-group-addon">
					<htm-flag country="editor.country(editor.participant)"></htm-flag>
				</span>
				<ui-select ng-model="editor.participant._countryId" ng-disabled="disabled" required="true">
					<ui-select-match placeholder="Select or search a country in the list...">{{$select.selected.name}}</ui-select-match>
					<ui-select-choices repeat="country._id as country in editor.countries | filter: $select.search">
						<span ng-bind-html="country.code2 | highlight: $select.search"></span> - <span ng-bind-html="country.name | highlight: $select.search"></span>
					</ui-select-choices>
				</ui-select>
			</div>
		</div>
		<div class="form-group">
			<label for="Tournaments">Tournaments</label>
			<div class="list-group">
  			<a href="#" class="list-group-item" ng-repeat="t in editor.tournaments" ng-click="editor.toggleSubscription(t)">
  				<span>{{t.name}}</span>
					<span class="glyphicon pull-right" ng-class="editor.participant.inTournament(t) ? 'glyphicon-check' : 'glyphicon-unchecked'"></span>
  			</a>
			</div>
		</div>
		<div class="pull-right">
			<button class="btn btn-primary" ng-click="editor.save()">{{editor.isNew ? 'Add Participant' : 'Done'}}</button>
			<button class="btn btn-danger" ng-click="editor.cancel()" ng-show="editor.isNew">Close</button>
		</div>
		<div class="clearfix"></div>
	</form>
</div>